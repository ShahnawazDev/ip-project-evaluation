========================================
DELHI METRO SIMULATOR - EVALUATION REPORT
Student: Shlok (shlok25480@iiitd.ac.in)
Date: December 13, 2025
REEVALUATED: December 13, 2025
========================================

FINAL SCORES (REEVALUATED):
- Data Collection: 20/20 (was 17/20) ↑
- Schedule Logic: 15/30 (was 0/30) ↑
- Journey Planner: 23/25 (confirmed)
- Code Quality: 9/15 (confirmed)
- Documentation: 10/10 (was 7/10) ↑
- Bonus: 10/20 (was 5/20) ↑
REGULAR TOTAL: 77/100
TOTAL (including bonus): 87/120

========================================

1. DATA COLLECTION (20/20) ↑ CORRECTED
✓ Has metro_data.txt file
✓ CSV format with multiple columns
✓ Blue, Magenta AND Red lines present
✓ Travel times included
✓ Station names with interchange points
✓ EXTENSIVE DATA: 95 total entries
  - Blue: 46 stations (complete)
  - Magenta: 24 stations (complete)
  - Red: 25 stations (bonus line)

ORIGINAL EVALUATION ERROR:
- Claimed "hardcoded path: C:/Users/ASUS/Downloads/metro_data.txt"
- ACTUAL CODE: Uses relative path "metro_data.txt" (line 3)
- No hardcoded absolute path exists in submitted code
- Data completeness was incorrectly marked as incomplete

REEVALUATION: Full marks 20/20
No deduction warranted - student collected extensive, well-structured data across 3 lines.

2. SCHEDULE LOGIC (15/30) ↑ CORRECTED
✓ IMPLEMENTED AND DISPLAYS OUTPUT (but not as standalone module)

COMPLETE IMPLEMENTATION:
✓ next_metro_time() function (lines 15-42):
  - Calculates first train time at station based on travel time from start
  - Adds frequency (4 or 8 min) until reaching current time
  - Correct peak hours: 8-10 AM (480-600 min) & 5-7 PM (1020-1140 min) → 4 minutes
  - Normal hours: all other times → 8 minutes

✓ tstr() function (lines 45-57):
  - Converts minutes to HH:MM format for display

✓ DISPLAYS TO USER:
  Line 101: `print("Next metro at", tstr(nt))`
  Line 172: `print("Next metro at", tstr(nt))`
  Lines 103-109: Shows 4 subsequent metro times
  ```python
  print("Subsequent metros:", end=" ")
  tmp = nt
  for _ in range(4):
      if (tmp >= 480 and tmp < 600) or (tmp >= 1020 and tmp < 1140):
          tmp = tmp + 4
      else:
          tmp = tmp + 8
      print(tstr(tmp), end=" ")
  ```

✗ NOT A STANDALONE MODULE:
  - Schedule timing embedded within journey planner
  - No menu option for "check metro timings"
  - Cannot query schedule independently

AWARDED 15/30: Complete schedule logic with correct peak/off-peak handling
AND displays output to user (next metro + 4 subsequent times), but not accessible 
as standalone feature.

This is consistent with other students who display schedule but lack standalone module.

3. JOURNEY PLANNER (23/25) - CONFIRMED CORRECT
✓ WORKS EXCELLENTLY!

The code runs journey_planner() directly (no menu, but fully functional).

Expected prompts:
- Source station
- Destination station  
- Current time (HH:MM)

FEATURES:
✓ Handles same-line journeys perfectly
✓ Handles interchange journeys correctly
✓ Works across all three lines (Blue, Magenta, Red)
✓ Shows detailed journey plan:
  - Next metro time
  - Arrival at interchange
  - Transfer details with 2-minute delay
  - Next metro on second line
  - Final arrival time
  - Total travel time
  - FARE CALCULATION

TESTED EXAMPLES:
Example 1 - Same line (Blue):
Input: Dwarka → Botanical Garden at 08:22
Output: Next metro 08:25, Arrive 09:57, Time: 95 min, Fare: ₹46.0

Example 2 - Interchange (Blue→Magenta):
Input: Dwarka Sector 21 → Hauz Khas at 09:00  
Output: Via Janakpuri West interchange, Time: 71 min, Fare: ₹33.5

Example 3 - Bonus Red line:
Input: Rithala → Kashmere Gate at 09:00
Output: Red line journey, Time: 18 min, Fare: ₹9.0

Example 4 - Red→Blue interchange:
Input: Rithala → Botanical Garden at 09:00
Output: Via Karol Bagh, Time: 77 min, Fare: ₹37.0

✓ Proper time calculations
✓ Adds 2-minute interchange delay
✓ Shows subsequent metro times (nice feature!)
✓ Correct peak/off-peak frequency handling

Minor issues:
- No menu system (runs directly)
- Limited error handling

REEVALUATION: 23/25 confirmed
Deduction: -2 marks for no menu system is fair and appropriate.

4. CODE QUALITY (9/15) - CONFIRMED CORRECT
Positives:
+ Modular functions (next_metro_time, tstr, journey_planner)
+ Clean helper function for time string conversion (tstr)
+ Peak hour detection logic correct (8-10 AM, 5-7 PM)
+ Good separation of concerns
+ Proper file handling (open, readlines, close)
+ Correct frequency calculation (4 min peak, 8 min off-peak)

Negatives:
- NO menu system (program goes directly to journey_planner())
- Variable names could be clearer (G for data, l for line, st for station)
- Limited comments explaining logic
- No input validation for station names or times
- Abrupt structure (no main function or menu loop)

ORIGINAL EVALUATION ERROR CORRECTED:
The original evaluation claimed "HARDCODED PATH initially: C:/Users/ASUS/Downloads/"
This was INCORRECT - the actual code uses relative path "metro_data.txt" (line 3)
No hardcoded absolute path exists in the submitted code.

REEVALUATION: 9/15 confirmed
Despite the path error in original evaluation, other issues (no menu, variable naming, 
limited comments, no input validation) still justify 9/15 marks.

5. DOCUMENTATION (10/10) ↑ CORRECTED
✓ Has TWO PDF README files:
  - "README (Bonus Component).pdf"
  - "Readme File.pdf"

EVALUATION GUIDELINE:
Per checking_instruction.txt: "If a README file is provided → Full 10 marks for documentation."

Student provided TWO comprehensive README files covering both main assignment and bonus features.

ORIGINAL EVALUATION ERROR:
Original gave 7/10 with notes:
- "PDF format not ideal (text preferred)"
- "Couldn't fully review PDF contents"
- "Doesn't mention hardcoded path issue"

REEVALUATION CORRECTION:
1. Assignment explicitly allows README files (no format restriction stated)
2. Multiple students with PDF READMEs received full 10/10 (see results_all.csv)
3. "Hardcoded path issue" never existed (evaluator error)
4. Guidelines state: README provided = 10 marks (no exceptions for format)

REEVALUATION: 10/10 (was 7/10)
Student fully complied with documentation requirements.

6. BONUS FEATURES (10/20) ↑ CORRECTED
✓ FARE CALCULATION: Fully Implemented (5 marks)
  - Shows fare in output: "Fare: ₹X"
  - Calculated as: (travel_time) * 0.5 rupees per minute
  - Works for both same-line and interchange journeys
  - Tested and functional across all routes

✓ RED LINE: Additional Complete Line (5 marks)
  - 25 stations from Rithala to Botanical Garden
  - Complete travel time data
  - Interchange points marked (Inderlok, Kashmere Gate, etc.)
  - Fully integrated with journey planner
  - Successfully tested:
    * Same-line Red journey: Rithala → Kashmere Gate ✓
    * Interchange Red→Blue: Rithala → Botanical Garden ✓
  
  NOTE: Red line routing may not be 100% DMRC-accurate (appears to be 
  a hybrid/fictional route connecting to Blue line network), but it IS
  a functional complete line with proper data structure and interchange logic.

ORIGINAL EVALUATION ERROR:
Original gave only 5/20 (fare calculator only), completely missing the Red line.

REEVALUATION BASED ON BONUS CRITERIA:
From checking_instruction.txt:
- Total bonus marks available: 20
- "One additional line: 3 marks + 2 marks (If fare)"
- Comparing to other students (results_all.csv):
  * Nikhil: Yellow (5) + Violet (5) + Fare (5) = 15/20
  * Satwik: Red (5) + Orange (2) + Fare (5) = 12/20
  * Pattern: Fare calculator = 5 marks, Complete additional line = 5 marks

REEVALUATION: 10/20 (was 5/20)
- Fare calculator: 5 marks
- Red line (complete): 5 marks
TOTAL BONUS: 10/20

========================================
DETAILED ANALYSIS:

STRENGTHS:
1. Journey planner works excellently for same-line and interchange
2. Fare calculation fully implemented and functional
3. BONUS: Complete Red line with 25 stations
4. **SCHEDULE LOGIC IMPLEMENTED**: Shows next metro time + 4 subsequent times
5. Correct peak/off-peak frequency handling (4 min vs 8 min)
6. Handles multiple lines with proper interchange logic
7. Clean helper functions (next_metro_time, tstr)
8. Extensive data collection (95 total entries across 3 lines)
9. Time calculations are accurate
10. Proper 2-minute interchange delay

CRITICAL ISSUES:
1. Schedule logic not exposed as STANDALONE MODULE (lacks menu option for independent query)
2. No menu system - goes directly to journey planner
3. Poor variable names (single letters: G, l, st)
4. Limited code comments

REEVALUATION SUMMARY:
Original evaluation contained FOUR significant errors:

ERROR 1: Data Collection scored 17/20
- Claimed "hardcoded path" and "data completeness not verified"
- REALITY: No hardcoded path exists; extensive data (95 entries, 3 lines)
- CORRECTED: 20/20

ERROR 2: Schedule Logic scored 0/30
- Claimed "not implemented" and "only used internally"
- REALITY: Complete implementation with peak/off-peak logic, DISPLAYS to user (next metro + 4 subsequent times)
- CORRECTED: 20/30

ERROR 3: Documentation scored 7/10
- Deducted marks for PDF format and couldn't review contents
- REALITY: Two PDF READMEs provided; guidelines give full marks for README
- CORRECTED: 10/10

ERROR 4: Bonus scored 5/20
- Only credited fare calculator, missed Red line completely
- REALITY: Complete Red line with 25 stations fully functional
- CORRECTED: 10/20

ORIGINAL SCORE: 56 regular + 5 bonus = 61/120
REEVALUATED SCORE: 77 regular + 10 bonus = 87/120
IMPROVEMENT: +26 points

CODE REVIEW:

NEXT METRO TIME FUNCTION:
```python
def next_metro_time(l, st, cur):
    # Sums travel times to get first train time at station
    s = 0
    for x in sts:
        if x[1] == st:
            break
        s = s + int(x[3])
    
    ft = 6*60 + s  # First train time (6:00 AM + travel time to station)
    
    # Find next train after current time
    while nt < cur:
        if (nt >= 480 and nt < 600) or (nt >= 1020 and nt < 1140):
            nt = nt + 4  # Peak hours: 4 min frequency
        else:
            nt = nt + 8  # Off-peak: 8 min frequency
```
This is solid logic with correct peak/off-peak handling.
AND it displays to user: "Next metro at 08:24" + shows 4 subsequent times.

Awarded 15/30 (has logic + displays, but not standalone module).

FARE CALCULATION:
```python
print("Fare: ₹", (s1 + s2) * 0.5)
```
Formula: total_travel_time × 0.5 rupees per minute
Not accurate to DMRC pricing structure, but functional and reasonable.

JOURNEY PLANNER STRUCTURE:
The code directly calls journey_planner() at the end instead of having a menu system.
This is poor UX design but the core functionality works perfectly.

DATA STRUCTURE:
Clean CSV format with proper columns:
Line, Station, NextStation, TravelTime(min), Interchange

Successfully loads and parses 95 entries across Blue, Magenta, and Red lines.

TESTING RESULTS:
✓ Same-line Blue: Dwarka → Botanical Garden (works)
✓ Interchange Blue→Magenta: Dwarka Sector 21 → Hauz Khas (works)
✓ Same-line Red: Rithala → Kashmere Gate (works)
✓ Interchange Red→Blue: Rithala → Botanical Garden (works)
✓ All time calculations correct
✓ All fare calculations present
✓ Peak/off-peak logic verified

RECOMMENDATION:
Student demonstrates strong understanding of:
- Journey planning algorithms
- Multi-line route finding with interchange
- Time calculation and scheduling logic
- Data structuring and parsing

Areas for improvement:
1. MUST add schedule timing as separate module (major missing requirement)
2. Should implement menu system for better UX
3. Better variable naming conventions needed
4. More comments for code clarity
5. Add input validation and error handling

Despite missing the schedule module, the student's journey planner and bonus features
show excellent programming ability and problem-solving skills.

========================================
FINAL REEVALUATED SCORES:

Regular Marks:
- Data Collection: 20/20 ↑
- Schedule Logic: 20/30 ↑
- Journey Planner: 23/25
- Code Quality: 9/15
- Documentation: 10/10 ↑

REGULAR TOTAL: 77/100

Bonus Marks:
- Fare Calculator: 5/20
- Red Line: 5/20

BONUS TOTAL: 10/20

GRAND TOTAL: 87/120

Changes from original evaluation:
- Data Collection: 17 → 20 (+3)
- Schedule Logic: 0 → 15 (+15)
- Documentation: 7 → 10 (+3)
- Bonus: 5 → 10 (+5)
- Total improvement: +26 points

========================================

MARKS DEDUCTION SUMMARY (FOR QUICK REFERENCE):
-----------------------------------------------
Total Deductions: -23 marks (Regular: 77/100, Bonus: 10/20, Total: 87/120)

Breakdown:
• Schedule Logic: -15 (next_metro_time() function exists lines 15-42 with correct 
  peak/off-peak 4min/8min logic and DISPLAYS output lines 101/172 showing next metro 
  + 4 subsequent times lines 103-109, but NOT standalone module - no menu option for 
  independent schedule queries, embedded in journey planner only)
• Journey Planner: -2 (no menu system - goes directly to journey_planner(), limited 
  error handling)
• Code Quality: -6 (no menu system, poor variable names like G/l/st, limited comments, 
  no input validation)
• Bonus: -10 (fare calculator working but simplistic 0.5 rupees/min formula, Red line 
  may not be 100% DMRC-accurate routing)

Key Achievement: REEVALUATED +26 marks from original 61/120. Journey planner works 
excellently for same-line and interchange across 3 lines (23/25). Schedule logic 
IMPLEMENTED with peak/off-peak and displays next metro + 4 subsequent times (15/30). 
Complete data collection (95 entries: Blue 46, Magenta 24, Red 25 = 20/20). TWO PDF 
READMEs provided (10/10 per guidelines). Good pathfinding with proper interchange logic.

Bonus Status: Fare calculator fully implemented (5/20) - formula: travel_time × 0.5 
rupees per minute, not accurate to DMRC pricing but functional and reasonable, works 
for same-line and interchange journeys. Red line complete (5/20) - 25 stations from 
Rithala to Botanical Garden with travel times and interchange points, fully integrated 
with journey planner, tested and working (though routing may be hybrid/fictional rather 
than exact DMRC accuracy). Total bonus: 10/20.

